Header
  
  + name := CALL_CONVEXFILL;
  
Inherit
  
  + parent_pen_call_2d:Expanded PEN_CALL_2D
  
Private
  
  - stack:ARRAY CALL_CONVEXFILL := ARRAY CALL_CONVEXFILL.create_with_capacity 16

Public
    
  - create_image img:INTEGER path (pofs,pcnt:INTEGER) 
  triangle (tofs,tcnt:INTEGER) uniform uofs:INTEGER :PEN_CALL_2D <-
  ( + result:CALL_CONVEXFILL
    (stack.is_empty).if {
      result := clone
    } else {
      result := stack.last
      stack.remove_last
    }
    result.make_image img path (pofs,pcnt) triangle (tofs,tcnt) uniform uofs
    result    
  )
  
  - free <-
  ( 
    stack.add_last Self
  )
  
  - run_2d <- pen_gl.convex_fill Self
